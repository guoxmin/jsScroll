(function(){var a=function(){var b={addEventListener:!!window.addEventListener,touch:("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch,transitions:(function(d){var f=["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"];for(var e in f){if(d.style[f[e]]!==undefined){return true;}}return false;})(document.createElement("jsMove"))};var c=function(){};return function(d,e){if(!d){return;}var f;this.container=d;this.element=f=d.children[0];this.options=e||{};this.toTopCallback=e.toTopCallback||c;this.toBottomCallback=e.toBottomCallback||c;this.scrollPos=0;this.setup();if(b.addEventListener){if(b.touch){f.addEventListener("touchstart",this,false);}if(b.transitions){f.addEventListener("webkitTransitionEnd",this,false);f.addEventListener("msTransitionEnd",this,false);f.addEventListener("oTransitionEnd",this,false);f.addEventListener("otransitionend",this,false);f.addEventListener("transitionend",this,false);}window.addEventListener("resize",this,false);}return this;};}(window);a.prototype={handleEvent:function(b){switch(b.type){case"touchstart":this.touchstart(b);break;case"touchmove":this.touchmove(b);break;case"touchend":this.touchend(b);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":break;case"resize":this.setup.call(this);break;}if(this.options.stopPropagation){b.stopPropagation();}},setup:function(){var b=this.container,c=this.element;this.containerHeight=b.clientHeight||b.offsetHeight;this.slideHeight=c.clientHeight||c.offsetHeight;this.maxScrollTop=this.slideHeight-this.containerHeight;b.style.overflow="hidden";},touchstart:function(c){var b=this.element;var d=c.touches[0];if(this.moveElement){clearTimeout(this.moveElement);}this.startPos={x:d.pageX,y:d.pageY,time:+new Date};this.delta={x:0,y:0};this.isScrolling=undefined;this.slidePos=0;b.addEventListener("touchmove",this,false);b.addEventListener("touchend",this,false);},touchmove:function(f){if(f.touches.length>1||f.scale&&f.scale!==1){return;}if(this.options.disableScroll){f.preventDefault();}var g=f.touches[0];var i=this.delta={x:g.pageX-this.startPos.x,y:g.pageY-this.startPos.y};var h=this.isScrolling;if(typeof h=="undefined"){h=!!(h||Math.abs(i.y)<Math.abs(i.x));}if(!h){f.preventDefault();var d=this.container,e=this.element,c=this.delta.y||0;var b=this.scrollPos+c;this.isPastBounds=b>=0||Math.abs(b)>=this.maxScrollTop;if(!this.isPastBounds){d.scrollTop=Math.abs(b);this.slidePos=c;}else{this.translate((c-this.slidePos)/((Math.abs(i.y)/300*2+1)),0);}}},touchend:function(b){var d=+new Date-this.startPos.time;var e=this.delta.y;if(!this.isScrolling||d<100){var c=this.container,f=this.element,k=this.containerHeight,g=this.slideHeight;if(!this.isPastBounds){this.scrollPos+=e;if(Number(d)<250&&Math.abs(e)>20){var i=Math.ceil(this.scrollPos+(300/Number(d))*(e+1));i=i>0?0:i<-this.maxScrollTop?-this.maxScrollTop:i;j.call(this,i);}}else{this.translate(0,300);var h=e<0;if(h){this.scrollTo(this.slideHeight-this.containerHeight);this.toBottomCallback&&this.toBottomCallback.call(f,f);}else{this.scrollTo(0);this.toTopCallback&&this.toTopCallback.call(f,f);}return false;}function j(m){var l=this,p=arguments.callee;if(this.moveElement){clearTimeout(this.moveElement);}var n=this.scrollPos;if(n==m){return true;}if(n<m){var o=Math.ceil((m-n)/50);n+=o;}if(n>m){var o=Math.ceil((n-m)/50);n-=o;}this.scrollTo(Math.abs(n));this.moveElement=setTimeout(function(){p.call(l,m);},5);}}this.setup();f.removeEventListener("touchmove",this,false);f.removeEventListener("touchend",this,false);},translate:function(d,c){var b=this.element&&this.element.style;if(!b){return;}b.webkitTransitionDuration=b.MozTransitionDuration=b.msTransitionDuration=b.OTransitionDuration=b.transitionDuration=c+"ms";b.webkitTransform="translate(0,"+d+"px)translateZ(0)";b.msTransform=b.MozTransform=b.OTransform="translateY("+d+"px)";},scrollTo:function(b){this.container.scrollTop=b;this.scrollPos=-b;}};window.jsMove=function(b,c){return new a(b,c);};})(window);